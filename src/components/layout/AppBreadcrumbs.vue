<script setup lang="ts">
const route = useRoute()
const items = computed(() => {
  return route!.matched
    .slice(1)
    .filter(
      item =>
        item.meta && item.meta.title && !(item.meta?.breadcrumb === 'hidden'),
    )
    .map(route => ({
      text: route.meta.title!,
      disabled: route.meta?.breadcrumb === 'disabled' || false,
      to: route.path,
    }))
})
</script>

<template>
  <v-breadcrumbs>
    <v-slide-x-reverse-transition class="v-breadcrumbs" leave-absolute group>
      <v-breadcrumbs-item
        v-for="item in items"
        :key="item.text.toString()"
        :to="item.to"
        exact
        :disabled="item.disabled"
      >
        {{ item.text }}
      </v-breadcrumbs-item>
    </v-slide-x-reverse-transition>
  </v-breadcrumbs>
</template>
